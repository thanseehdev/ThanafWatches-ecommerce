<%-include("../layout/adminHeader.ejs")-%>
<link href="https://cdn.datatables.net/1.13.7/css/dataTables.bootstrap5.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.5/font/bootstrap-icons.min.css" rel="stylesheet">
<%-include("../layout/adminCentre.ejs")-%>
<style>
  #headT{
       margin-left:200px ;
       background-color:rgb(26, 26, 54);
       height: 50px;
       width: 175px;
       margin-top: 10px;
       border-bottom-left-radius: 7px;
       border-bottom-right-radius: 7px;
       font-size: x-large;
       align-items: center;
       justify-content: center;
       display: flex;
       color:orange;
  }
</style>

<%-include("../partials/adminNavbar.ejs")-%>
<div class="container mt-5">
  <div class="d-flex justify-content-between align-items-center mb-3">
      <h1 id="headT">CUSTOMERS</h1>
  </div>
</div>
<div class="container mt-5">
  <div class="table-responsive">
      <table id="example" class="table table-striped table-bordered" style="text-align: center; vertical-align: middle;">
          <thead class="table-dark">
              <tr>
                  <th scope="col">NO</th>
                  <th scope="col">NAME</th>
                  <th scope="col">EMAIL</th>
                  <th scope="col">STATUS</th>
                  <th scope="col">BLOCK/UNBLOCK</th>
              </tr>
          </thead>
          <tbody>
              <% customers.forEach((ele, index) => { %>
                  <tr>
                      <th scope="row"><%- index + 1 %></th>
                      <td><%- ele.name %></td>
                      <td><%- ele.email %></td>
                      <% if (ele.status == "active") { %>
                          <td class="text-success">Active</td>
                      <% } else { %>
                          <td class="text-danger">Blocked</td>
                      <% } %>
                      <% if (ele.status == "active") { %>
                          <td>
                              <button class="btn btn-danger" onclick="block('<%= ele._id %>', '<%- ele.status %>')">Block</button>
                          </td>
                      <% } else { %>
                          <td>
                              <button class="btn btn-success" onclick="block('<%= ele._id %>', '<%- ele.status %>')">Unblock</button>
                          </td>
                      <% } %>
                  </tr>
              <% }) %>
          </tbody>
      </table>
  </div>
</div>

<script src="https://code.jquery.com/jquery-3.7.0.js"></script>
<script src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.13.7/js/dataTables.bootstrap5.min.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
      let table = new DataTable('#example');
  });
</script>
<%-include("../layout/adminFooter.ejs")-%>